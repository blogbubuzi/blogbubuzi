(window.webpackJsonp=window.webpackJsonp||[]).push([[19],{419:function(s,t,a){"use strict";a.r(t);var e=a(2),n=Object(e.a)({},(function(){var s=this,t=s._self._c;return t("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[t("h2",{attrs:{id:"编译错误"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#编译错误"}},[s._v("#")]),s._v(" 编译错误")]),s._v(" "),t("h3",{attrs:{id:"无法加载本地二进制程序"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#无法加载本地二进制程序"}},[s._v("#")]),s._v(" 无法加载本地二进制程序")]),s._v(" "),t("div",{staticClass:"language-js line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-js"}},[t("code",[s._v("Uncaught Error"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" No native build was found "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("for")]),s._v(" platform"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("win32 arch"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("x64 runtime"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("electron abi"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("76")]),s._v(" uv"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v(" libc"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("glibc\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("p",[s._v("解决办法：")]),s._v(" "),t("ol",[t("li",[s._v("在"),t("code",[s._v("electron-builder")]),s._v("中配置"),t("code",[s._v("external")])])]),s._v(" "),t("p",[s._v("如在"),t("code",[s._v("vue.config.js")]),s._v("中")]),s._v(" "),t("div",{staticClass:"language-js line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-js"}},[t("code",[s._v("module"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("exports "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("defineConfig")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token literal-property property"}},[s._v("pluginOptions")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token literal-property property"}},[s._v("electronBuilder")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n      "),t("span",{pre:!0,attrs:{class:"token literal-property property"}},[s._v("externals")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'serialport'")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br")])]),t("ol",{attrs:{start:"2"}},[t("li",[s._v("若上一步没有成功，则尝试重新构建")])]),s._v(" "),t("div",{staticClass:"language-powershell line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-powershell"}},[t("code",[t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 进入指定路径")]),s._v("\n$ cd "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("\\node_modules\\@serialport\\bindings-"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("cpp")]),s._v("\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 重新编译模块")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# msvs_version是你的vs版本")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# abi通过报错可以知道")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# target是你的nodejs版本号")]),s._v("\n$ node-gyp "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),s._v("msvs_version=2022 rebuild "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),s._v("platform=win32 "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),s._v("abi=101 "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),s._v("runtime=electron "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),s._v("target=16"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("18"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("1 "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),s._v("arch=x64 "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),s._v("target_arch=x64\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br")])]),t("blockquote",[t("p",[s._v("若一直报node-gyp报错，修改全局安装目录下的相关文件")]),s._v(" "),t("ul",[t("li",[s._v("'node_modules\\node-gyp\\lib\\configure.js'")]),s._v(" "),t("li",[s._v("'node_modules\\node-gyp\\lib\\find-visualstudio.js'")])]),s._v(" "),t("p",[s._v("设置vs安装目录")]),s._v(" "),t("div",{staticClass:"language-powershell line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-powershell"}},[t("code",[t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$env")]),s._v(":VCINSTALLDIR="),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"C:\\Program Files\\Microsoft Visual Studio\\2022\\Community"')]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("p",[s._v("打开find-visualstudio.js，发现其中有一项操作，导致一直找不到vs命令行")]),s._v(" "),t("div",{staticClass:"language-js line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-js"}},[t("code",[s._v("path"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("resolve")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("process"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("env"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token constant"}},[s._v("VCINSTALLDIR")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'..'")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("p",[s._v("将其改为")]),s._v(" "),t("div",{staticClass:"language-js line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-js"}},[t("code",[s._v("path"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("resolve")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("process"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("env"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token constant"}},[s._v("VCINSTALLDIR")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("''")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("p",[s._v("即可")])]),s._v(" "),t("h3",{attrs:{id:"打包后出现包未找到异常"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#打包后出现包未找到异常"}},[s._v("#")]),s._v(" 打包后出现包未找到异常")]),s._v(" "),t("div",{staticClass:"language-javascript line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-javascript"}},[t("code",[t("span",{pre:!0,attrs:{class:"token literal-property property"}},[s._v("Error")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" Cannot find module "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'serialport'")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("p",[s._v("解决方法：")]),s._v(" "),t("p",[s._v("检查"),t("code",[s._v("package.json")]),s._v("文件，对应模块是否存在于"),t("code",[s._v("devDependencies")]),s._v("，若是，将其删除，并重新安装至"),t("code",[s._v("dependencies")]),s._v("中")]),s._v(" "),t("p",[s._v("原因：")]),s._v(" "),t("p",[t("code",[s._v("electron-builder")]),s._v("在编译中会将"),t("code",[s._v("devDependencies")]),s._v("中的内容排除")])])}),[],!1,null,null,null);t.default=n.exports}}]);